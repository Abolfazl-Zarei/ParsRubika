

# ğŸ¤– ParsRubika - Ú©ØªØ§Ø¨Ø®Ø§Ù†Ù‡ Ú©Ø§Ù…Ù„ Go Ø¨Ø±Ø§ÛŒ Ø±Ø¨Ø§Øªâ€ŒÙ‡Ø§ÛŒ Ø±ÙˆØ¨ÛŒÚ©Ø§

<div align="center">

![Rubika Bot](https://img.shields.io/badge/Rubika-Bot%20API-red?style=for-the-badge&logo=telegram&logoColor=white)
![Go Version](https://img.shields.io/badge/Go-1.21%2B-00ADD8?style=for-the-badge&logo=go&logoColor=white)
![License](https://img.shields.io/badge/License-MIT-green?style=for-the-badge)
![Stars](https://img.shields.io/github/stars/Abolfazl-Zarei/ParsRubika-bot-go?style=for-the-badge&color=gold)

<br />

<img src="https://s6.uupload.ir/files/img_20251127_142046_212_c3oj.jpg" width="150"/>
<img src="https://img.icons8.com/color/96/000000/golang.png" width="80"/>
<img src="https://img.icons8.com/color/96/000000/robot-2.png" width="80"/>
<img src="https://img.icons8.com/color/96/000000/api.png" width="80"/>

**ğŸ”— Ù…Ø®Ø²Ù† Ú¯ÛŒØªâ€ŒÙ‡Ø§Ø¨:**  
[https://github.com/Abolfazl-Zarei/ParsRubika-bot-go](https://github.com/Abolfazl-Zarei/ParsRubika-bot-go)

**ğŸ‘¤ ØªÙˆØ³Ø¹Ù‡â€ŒØ¯Ù‡Ù†Ø¯Ù‡:** Ø§Ø¨ÙˆØ§Ù„ÙØ¶Ù„ Ø²Ø§Ø±Ø¹ÛŒ  
**ğŸ“§ Ø§ÛŒÙ…ÛŒÙ„:** `ninjacode.ir@gmail.com`  
**ğŸ†” Ø±ÙˆØ¨ÛŒÚ©Ø§:** `NinjaCode`  
**ğŸ“¢ Ú†Ù†Ù„ Ø±ÙˆØ¨ÛŒÚ©Ø§:** `Ninja_code`

</div>

## ğŸ¯ Ù…Ø¹Ø±ÙÛŒ

**ParsRubika** ÛŒÚ© Ú©ØªØ§Ø¨Ø®Ø§Ù†Ù‡ **ÙØ§Ø±Ø³ÛŒ** Ùˆ **Ù‚Ø¯Ø±ØªÙ…Ù†Ø¯** Ø¨Ø±Ø§ÛŒ Ø³Ø§Ø®Øª Ø±Ø¨Ø§Øªâ€ŒÙ‡Ø§ÛŒ Ù¾ÛŒØ§Ù…â€ŒØ±Ø³Ø§Ù† **Ø±ÙˆØ¨ÛŒÚ©Ø§** Ø¨Ø§ Ø²Ø¨Ø§Ù† **Go** Ø§Ø³Øª. Ø§ÛŒÙ† Ú©ØªØ§Ø¨Ø®Ø§Ù†Ù‡ Ø¨Ø§ Ù…Ø¹Ù…Ø§Ø±ÛŒ Ù…Ø¯Ø±Ù† Ùˆ Ø§Ù…Ú©Ø§Ù†Ø§Øª Ù¾ÛŒØ´Ø±ÙØªÙ‡ØŒ ØªÙˆØ³Ø¹Ù‡ Ø±Ø¨Ø§Øªâ€ŒÙ‡Ø§ÛŒ Ø­Ø±ÙÙ‡â€ŒØ§ÛŒ Ø±Ø§ Ø¨Ø±Ø§ÛŒ Ø´Ù…Ø§ Ø³Ø§Ø¯Ù‡ Ù…ÛŒâ€ŒÚ©Ù†Ø¯.

### ğŸŒŸ ÙˆÛŒÚ˜Ú¯ÛŒâ€ŒÙ‡Ø§ÛŒ Ú©Ù„ÛŒØ¯ÛŒ

| ÙˆÛŒÚ˜Ú¯ÛŒ | ØªÙˆØ¶ÛŒØ­ |
|-------|-----------|
| **âœ… Ù¾Ø´ØªÛŒØ¨Ø§Ù†ÛŒ Ú©Ø§Ù…Ù„ API** | Ù¾ÙˆØ´Ø´ Ú©Ø§Ù…Ù„ ØªÙ…Ø§Ù… Ù…ØªØ¯Ù‡Ø§ÛŒ Ø±Ø³Ù…ÛŒ Ø±ÙˆØ¨ÛŒÚ©Ø§ |
| **ğŸ”„ Polling & Webhook** | Ø¯Ùˆ Ø±ÙˆØ´ Ù…Ø¯Ø±Ù† Ø¨Ø±Ø§ÛŒ Ø¯Ø±ÛŒØ§ÙØª Ø¢Ù¾Ø¯ÛŒØªâ€ŒÙ‡Ø§ |
| **ğŸ› Ù…Ø¯ÛŒØ±ÛŒØª ÙˆØ¶Ø¹ÛŒØª** | State Management Ø¯Ø§Ø®Ù„ÛŒ Ø¨Ø±Ø§ÛŒ Ù…Ø¯ÛŒØ±ÛŒØª Ù…Ú©Ø§Ù„Ù…Ø§Øª Ú©Ø§Ø±Ø¨Ø±Ø§Ù† |
| **ğŸ“ Ù…Ø¯ÛŒØ±ÛŒØª ÙØ§ÛŒÙ„â€ŒÙ‡Ø§** | Ø¢Ù¾Ù„ÙˆØ¯ Ùˆ Ø¯Ø§Ù†Ù„ÙˆØ¯ Ø§Ù†ÙˆØ§Ø¹ ÙØ§ÛŒÙ„â€ŒÙ‡Ø§ Ø¨Ø§ Ø³Ø§Ø¯Ú¯ÛŒ |
| **âŒ¨ Ú©ÛŒØ¨ÙˆØ±Ø¯Ù‡Ø§ÛŒ Ù¾ÙˆÛŒØ§** | Ù¾Ø´ØªÛŒØ¨Ø§Ù†ÛŒ Ú©Ø§Ù…Ù„ Ø§Ø² Ú©ÛŒØ¨ÙˆØ±Ø¯Ù‡Ø§ÛŒ Reply Ùˆ Inline |
| **ğŸ›¡ Ø®Ø·Ø§ÛŒØ§Ø¨ÛŒ Ù‡ÙˆØ´Ù…Ù†Ø¯** | Ù…Ø¯ÛŒØ±ÛŒØª Ø®ÙˆØ¯Ú©Ø§Ø± Ø®Ø·Ø§Ù‡Ø§ Ùˆ ØªÙ„Ø§Ø´ Ù…Ø¬Ø¯Ø¯ Ù‡ÙˆØ´Ù…Ù†Ø¯ |
| **ğŸ”„ API Switcher** | Ø³ÙˆÛŒÛŒÚ† Ø®ÙˆØ¯Ú©Ø§Ø± Ø¨ÛŒÙ† APIÙ‡Ø§ÛŒ Ø±ÙˆØ¨ÛŒÚ©Ø§ Ø¨Ø±Ø§ÛŒ Ù¾Ø§ÛŒØ¯Ø§Ø±ÛŒ Ø¨Ø§Ù„Ø§ |
| **ğŸ”„ Hot-Reload** | Ø¨Ø§Ø±Ú¯Ø°Ø§Ø±ÛŒ Ù…Ø¬Ø¯Ø¯ Ú©Ø¯ Ø¨Ø¯ÙˆÙ† Ù†ÛŒØ§Ø² Ø¨Ù‡ Ø±ÛŒâ€ŒØ§Ø³ØªØ§Ø±Øª Ø¯Ø³ØªÛŒ |
| **ğŸ›¡ï¸ Anti-Spam** | Ø³ÛŒØ³ØªÙ… Ø¯Ø§Ø®Ù„ÛŒ Ø¨Ø±Ø§ÛŒ Ø¬Ù„ÙˆÚ¯ÛŒØ±ÛŒ Ø§Ø² Ø§Ø³Ù¾Ù… Ú©Ø§Ø±Ø¨Ø±Ø§Ù† |
| **ğŸ“š Ù…Ø³ØªÙ†Ø¯Ø§Øª Ú©Ø§Ù…Ù„** | Ø±Ø§Ù‡Ù†Ù…Ø§ÛŒ Ø¬Ø§Ù…Ø¹ Ùˆ Ù…Ø«Ø§Ù„â€ŒÙ‡Ø§ÛŒ Ú©Ø§Ø±Ø¨Ø±Ø¯ÛŒ |

---

## âš¡ Ù†ØµØ¨ Ùˆ Ø±Ø§Ù‡â€ŒØ§Ù†Ø¯Ø§Ø²ÛŒ

### ğŸ“‹ Ù¾ÛŒØ´â€ŒÙ†ÛŒØ§Ø²Ù‡Ø§

1.  **Ù†ØµØ¨ Go (Ù†Ø³Ø®Ù‡ 1.21 ÛŒØ§ Ø¨Ø§Ù„Ø§ØªØ±):**
    ```bash
    # Ø§ÙˆØ¨ÙˆÙ†ØªÛŒ/Ø¯Ø¨ÛŒØ§Ù†
    sudo apt update && sudo apt install golang-go

    # Ù…Ú©
    brew install go

    # ÙˆÛŒÙ†Ø¯ÙˆØ²
    # Ø§Ø² Ø³Ø§ÛŒØª https://golang.org/dl Ø¯Ø§Ù†Ù„ÙˆØ¯ Ú©Ù†ÛŒØ¯
    ```

2.  **Ø¯Ø±ÛŒØ§ÙØª ØªÙˆÚ©Ù† Ø±Ø¨Ø§Øª Ø§Ø² `@BotFather` Ø¯Ø± Ø±ÙˆØ¨ÛŒÚ©Ø§.**

### ğŸ“¥ Ù†ØµØ¨ Ú©ØªØ§Ø¨Ø®Ø§Ù†Ù‡

```bash
go get github.com/Abolfazl-Zarei/ParsRubika-bot-go/v2
```

---

## ğŸš€ Ø´Ø±ÙˆØ¹ Ø³Ø±ÛŒØ¹

ÛŒÚ© Ø±Ø¨Ø§Øª Ø³Ø§Ø¯Ù‡ "Ø³Ù„Ø§Ù… Ø¯Ù†ÛŒØ§" Ø¯Ø± Ú†Ù†Ø¯ Ø¯Ù‚ÛŒÙ‚Ù‡:

```go
// main.go
package main

import (
    "context"
    "log"
    "os"
    "time"

    ParsRubika "github.com/Abolfazl-Zarei/ParsRubika-bot-go/v2"
)

func main() {
    // ğŸ”‘ Ø¯Ø±ÛŒØ§ÙØª ØªÙˆÚ©Ù† Ø§Ø² Ù…ØªØºÛŒØ± Ù…Ø­ÛŒØ·ÛŒ
    botToken := os.Getenv("RUBIKA_BOT_TOKEN")
    if botToken == "" {
        log.Fatal("âŒ ØªÙˆÚ©Ù† Ø±Ø¨Ø§Øª ÛŒØ§ÙØª Ù†Ø´Ø¯! Ù…ØªØºÛŒØ± Ù…Ø­ÛŒØ·ÛŒ RUBIKA_BOT_TOKEN Ø±Ø§ ØªÙ†Ø¸ÛŒÙ… Ú©Ù†ÛŒØ¯.")
    }

    // ğŸ¤– Ø§ÛŒØ¬Ø§Ø¯ Ù†Ù…ÙˆÙ†Ù‡ Ø±Ø¨Ø§Øª
    bot := ParsRubika.NewClient(botToken,
        ParsRubika.WithRateLimitDelay(1*time.Second),
        ParsRubika.WithConnectionMode(ParsRubika.SwitcherMode), // Ø­Ø§Ù„Øª Ù‡ÙˆØ´Ù…Ù†Ø¯ Ø³ÙˆÛŒÛŒÚ†Ø±
    )

    // ğŸ¯ ØªÙ†Ø¸ÛŒÙ… Ù‡Ù†Ø¯Ù„Ø± Ø¨Ø±Ø§ÛŒ Ù¾ÛŒØ§Ù…â€ŒÙ‡Ø§ÛŒ Ù…ØªÙ†ÛŒ
    bot.OnMessageUpdates(func(ctx context.Context, update *ParsRubika.Update) error {
        if update.NewMessage != nil && update.NewMessage.Text != "" {
            // ğŸ“¨ Ù¾Ø§Ø³Ø® Ø¨Ù‡ Ù¾ÛŒØ§Ù… Ú©Ø§Ø±Ø¨Ø±
            _, err := bot.SendMessage(ctx, &ParsRubika.SendMessageRequest{
                ChatID: update.ChatID,
                Text:   "ğŸ‘‹ Ø³Ù„Ø§Ù…! Ù…Ù† Ø¨Ø§ ParsRubika Ø³Ø§Ø®ØªÙ‡ Ø´Ø¯Ù‡â€ŒØ§Ù…! ğŸš€",
            })
            return err
        }
        return nil
    })

    // ğŸš€ Ø§Ø¬Ø±Ø§ÛŒ Ø±Ø¨Ø§Øª
    ctx := context.Background()
    log.Println("ğŸ¤– Ø±Ø¨Ø§Øª Ø¨Ø§ Ù…ÙˆÙÙ‚ÛŒØª Ø±Ø§Ù‡â€ŒØ§Ù†Ø¯Ø§Ø²ÛŒ Ø´Ø¯...")
    if err := bot.Run(ctx); err != nil {
        log.Fatal("ğŸ’¥ Ø®Ø·Ø§ Ø¯Ø± Ø§Ø¬Ø±Ø§ÛŒ Ø±Ø¨Ø§Øª:", err)
    }
}
```

**Ø§Ø¬Ø±Ø§ÛŒ Ø±Ø¨Ø§Øª:**

```bash
# ØªÙ†Ø¸ÛŒÙ… ØªÙˆÚ©Ù†
export RUBIKA_BOT_TOKEN="your_bot_token_here"

# Ø§Ø¬Ø±Ø§
go run main.go
```

---

## ğŸ“¡ API Reference

### ğŸ’¬ Ø§Ø±Ø³Ø§Ù„ Ù¾ÛŒØ§Ù…

#### Ø§Ø±Ø³Ø§Ù„ Ù¾ÛŒØ§Ù… Ù…ØªÙ†ÛŒ
```go
_, err := bot.SendMessage(ctx, &ParsRubika.SendMessageRequest{
    ChatID: "CHAT_ID",
    Text:   "Ø§ÛŒÙ† ÛŒÚ© Ù¾ÛŒØ§Ù… ØªØ³Øª Ø§Ø³Øª!",
})
```

#### Ø§Ø±Ø³Ø§Ù„ Ù¾ÛŒØ§Ù… Ø¨Ø§ Ú©ÛŒØ¨ÙˆØ±Ø¯ Ø§ÛŒÙ†Ù„Ø§ÛŒÙ† (Inline)
```go
keyboard := &ParsRubika.InlineKeyboardMarkup{
    InlineKeyboard: [][]*ParsRubika.InlineKeyboardButton{
        {
            {Text: "ğŸ‘", CallbackData: "like"},
            {Text: "ğŸ‘", CallbackData: "dislike"},
        },
    },
}

_, err := bot.SendMessage(ctx, &ParsRubika.SendMessageRequest{
    ChatID:              "CHAT_ID",
    Text:                "Ø§ÛŒÙ† Ù¾ÛŒØ§Ù… Ø±Ø§ Ø¯ÙˆØ³Øª Ø¯Ø§Ø´ØªÛŒØ¯ØŸ",
    InlineKeyboardMarkup: keyboard,
})
```

#### Ø§Ø±Ø³Ø§Ù„ Ù¾ÛŒØ§Ù… Ø¨Ø§ Ú©ÛŒØ¨ÙˆØ±Ø¯ Ù¾Ø§Ø³Ø® (Reply)
```go
keyboard := &ParsRubika.ReplyKeyboardMarkup{
    Keyboard: [][]*ParsRubika.KeyboardButton{
        {{Text: "ğŸ“š Ø±Ø§Ù‡Ù†Ù…Ø§"}, {Text: "ğŸ‘¤ Ø§Ø·Ù„Ø§Ø¹Ø§Øª"}},
        {{Text: "ğŸ”Š ØªÚ©Ø±Ø§Ø± Ù…ØªÙ†"}, {Text: "ğŸ’¾ ÙˆØ¶Ø¹ÛŒØª"}},
    },
    ResizeKeyboard: true,
}

_, err := bot.SendMessage(ctx, &ParsRubika.SendMessageRequest{
    ChatID:             "CHAT_ID",
    Text:               "Ù…Ù†ÙˆÛŒ Ø§ØµÙ„ÛŒ:",
    ReplyKeyboardMarkup: keyboard,
})
```

### ğŸ–¼ï¸ Ø§Ø±Ø³Ø§Ù„ Ù…Ø¯ÛŒØ§

```go
// Ø§Ø±Ø³Ø§Ù„ Ø¹Ú©Ø³
_, err := bot.SendPhoto(ctx, "CHAT_ID", "path/to/image.jpg", "Ø§ÛŒÙ† ÛŒÚ© Ø¹Ú©Ø³ Ø§Ø³Øª.")

// Ø§Ø±Ø³Ø§Ù„ ÙˆÛŒØ¯ÛŒÙˆ
_, err := bot.SendVideo(ctx, "CHAT_ID", "path/to/video.mp4", "Ø§ÛŒÙ† ÛŒÚ© ÙˆÛŒØ¯ÛŒÙˆ Ø§Ø³Øª.")

// Ø§Ø±Ø³Ø§Ù„ ÙØ§ÛŒÙ„
_, err := bot.SendDocument(ctx, "CHAT_ID", "path/to/file.pdf", "Ø§ÛŒÙ† ÛŒÚ© ÙØ§ÛŒÙ„ Ø§Ø³Øª.")
```

### âœï¸ ÙˆÛŒØ±Ø§ÛŒØ´ Ùˆ Ù…Ø¯ÛŒØ±ÛŒØª Ù¾ÛŒØ§Ù…â€ŒÙ‡Ø§

```go
// ÙˆÛŒØ±Ø§ÛŒØ´ Ù…ØªÙ† Ù¾ÛŒØ§Ù…
err := bot.EditMessageText(ctx, &ParsRubika.EditMessageTextRequest{
    ChatID:    "CHAT_ID",
    MessageID: "MESSAGE_ID",
    Text:      "Ù…ØªÙ† Ø¬Ø¯ÛŒØ¯ ÙˆÛŒØ±Ø§ÛŒØ´ Ø´Ø¯Ù‡.",
})

// Ø­Ø°Ù Ù¾ÛŒØ§Ù…
err := bot.DeleteMessage(ctx, &ParsRubika.DeleteMessageRequest{
    ChatID:    "CHAT_ID",
    MessageID: "MESSAGE_ID",
})

// Ù¾ÛŒÙ† Ú©Ø±Ø¯Ù† Ù¾ÛŒØ§Ù…
err := bot.SetPin(ctx, "CHAT_ID", "MESSAGE_ID")
```

### ğŸ¯ Ù…Ø¯ÛŒØ±ÛŒØª Ù‡Ù†Ø¯Ù„Ø±â€ŒÙ‡Ø§

Ù‡Ù†Ø¯Ù„Ø±Ù‡Ø§ Ù‚Ù„Ø¨ Ù…Ù†Ø·Ù‚ Ø±Ø¨Ø§Øª Ø´Ù…Ø§ Ù‡Ø³ØªÙ†Ø¯. ParsRubika Ø±ÙˆØ´â€ŒÙ‡Ø§ÛŒ Ø³Ø§Ø¯Ù‡â€ŒØ§ÛŒ Ø¨Ø±Ø§ÛŒ Ø«Ø¨Øª Ù‡Ù†Ø¯Ù„Ø± Ø¨Ø± Ø§Ø³Ø§Ø³ Ù†ÙˆØ¹ Ø¢Ù¾Ø¯ÛŒØª ÙØ±Ø§Ù‡Ù… Ù…ÛŒâ€ŒÚ©Ù†Ø¯.

```go
// Ù‡Ù†Ø¯Ù„Ø± Ø¨Ø±Ø§ÛŒ ØªÙ…Ø§Ù… Ù¾ÛŒØ§Ù…â€ŒÙ‡Ø§ÛŒ Ø¬Ø¯ÛŒØ¯
bot.OnMessageUpdates(func(ctx context.Context, update *ParsRubika.Update) error {
    // Ù…Ù†Ø·Ù‚ Ù¾Ø±Ø¯Ø§Ø²Ø´ Ù¾ÛŒØ§Ù…
    return nil
})

// Ù‡Ù†Ø¯Ù„Ø± Ø¨Ø±Ø§ÛŒ ÛŒÚ© Ø¯Ø³ØªÙˆØ± Ø®Ø§Øµ
bot.OnCommand("start", func(ctx context.Context, update *ParsRubika.Update) error {
    _, err := bot.SendMessage(ctx, &ParsRubika.SendMessageRequest{
        ChatID: update.ChatID,
        Text:   "Ø¨Ù‡ Ø±Ø¨Ø§Øª Ø®ÙˆØ´ Ø¢Ù…Ø¯ÛŒØ¯!",
    })
    return err
})

// Ù‡Ù†Ø¯Ù„Ø± Ø¨Ø±Ø§ÛŒ Ø¹Ú©Ø³â€ŒÙ‡Ø§
bot.OnPhoto(func(ctx context.Context, update *ParsRubika.Update) error {
    _, err := bot.SendMessage(ctx, &ParsRubika.SendMessageRequest{
        ChatID: update.ChatID,
        Text:   "Ø¹Ú©Ø³ Ø²ÛŒØ¨Ø§ÛŒÛŒ Ø§Ø³Øª!",
    })
    return err
})

// Ù‡Ù†Ø¯Ù„Ø± Ø¨Ø±Ø§ÛŒ Ø¯Ú©Ù…Ù‡â€ŒÙ‡Ø§ÛŒ Ø§ÛŒÙ†Ù„Ø§ÛŒÙ†
bot.OnCallbackQuery(func(ctx context.Context, update *ParsRubika.Update) error {
    if update.NewMessage != nil && update.NewMessage.AuxData != nil {
        buttonID := *update.NewMessage.AuxData.ButtonID
        // Ù…Ù†Ø·Ù‚ Ø¨Ø± Ø§Ø³Ø§Ø³ buttonID
    }
    return nil
})
```

### ğŸ“Š Ù…Ø¯ÛŒØ±ÛŒØª ÙˆØ¶Ø¹ÛŒØª (State Management)

Ø¨Ø±Ø§ÛŒ Ù…Ø¯ÛŒØ±ÛŒØª Ù…Ú©Ø§Ù„Ù…Ø§Øª Ú†Ù†Ø¯ Ù…Ø±Ø­Ù„Ù‡â€ŒØ§ÛŒØŒ Ù…ÛŒâ€ŒØªÙˆØ§Ù†ÛŒØ¯ Ø§Ø² State Manager Ø¯Ø§Ø®Ù„ÛŒ Ø§Ø³ØªÙØ§Ø¯Ù‡ Ú©Ù†ÛŒØ¯.

```go
// Ø°Ø®ÛŒØ±Ù‡ ÙˆØ¶Ø¹ÛŒØª Ú©Ø§Ø±Ø¨Ø±
bot.SetState(userID, "step", "awaiting_name")

// Ø¨Ø§Ø²ÛŒØ§Ø¨ÛŒ ÙˆØ¶Ø¹ÛŒØª Ú©Ø§Ø±Ø¨Ø±
if step, exists := bot.GetState(userID, "step"); exists {
    if step == "awaiting_name" {
        // Ù…Ù†Ø·Ù‚ Ù…Ø±Ø­Ù„Ù‡ Ø¯Ø±ÛŒØ§ÙØª Ù†Ø§Ù…
    }
}

// Ø­Ø°Ù ÙˆØ¶Ø¹ÛŒØª Ú©Ø§Ø±Ø¨Ø±
bot.DeleteState(userID, "step")
```

### ğŸ›¡ï¸ Ø³ÛŒØ³ØªÙ… Ø¶Ø¯ Ø§Ø³Ù¾Ù…

```go
// Ø¨Ø±Ø±Ø³ÛŒ Ø§ÛŒÙ†Ú©Ù‡ Ø¢ÛŒØ§ Ú©Ø§Ø±Ø¨Ø± Ø§Ø³Ù¾Ù… Ù…ÛŒâ€ŒÚ©Ù†Ø¯ ÛŒØ§ Ø®ÛŒØ±
if bot.CheckAntiSpam(userID) {
    // Ú©Ø§Ø±Ø¨Ø± Ø§Ø³Ù¾Ù… Ù†Ù…ÛŒâ€ŒÚ©Ù†Ø¯ØŒ Ù¾Ø±Ø¯Ø§Ø²Ø´ Ø±Ø§ Ø§Ø¯Ø§Ù…Ù‡ Ø¨Ø¯Ù‡
    processUserMessage()
} else {
    // Ú©Ø§Ø±Ø¨Ø± Ø¯Ø± Ø­Ø§Ù„ Ø§Ø³Ù¾Ù… Ú©Ø±Ø¯Ù† Ø§Ø³Øª
    bot.SendMessage(ctx, &ParsRubika.SendMessageRequest{
        ChatID: chatID,
        Text:   "âš ï¸ Ù„Ø·ÙØ§Ù‹ Ø¢Ø±Ø§Ù…â€ŒØªØ± Ø¨Ø§Ø´ÛŒØ¯ Ùˆ Ø¯Ø±Ø®ÙˆØ§Ø³Øªâ€ŒÙ‡Ø§ Ø±Ø§ Ø¨Ø§ ÙØ§ØµÙ„Ù‡ Ø§Ø±Ø³Ø§Ù„ Ú©Ù†ÛŒØ¯.",
    })
}
```

---

## ğŸŒ Ø¯Ø±ÛŒØ§ÙØª Ø¢Ù¾Ø¯ÛŒØªâ€ŒÙ‡Ø§

### ğŸ“¡ Polling (Ø±ÙˆØ´ Ù¾ÛŒØ´â€ŒÙØ±Ø¶)

Ø¯Ø± Ø§ÛŒÙ† Ø±ÙˆØ´ØŒ Ø±Ø¨Ø§Øª Ø¨Ù‡ Ø·ÙˆØ± Ù…Ø¯Ø§ÙˆÙ… Ø§Ø² Ø³Ø±ÙˆØ± Ø±ÙˆØ¨ÛŒÚ©Ø§ Ø¢Ù¾Ø¯ÛŒØªâ€ŒÙ‡Ø§ÛŒ Ø¬Ø¯ÛŒØ¯ Ø±Ø§ Ø¯Ø±Ø®ÙˆØ§Ø³Øª Ù…ÛŒâ€ŒÚ©Ù†Ø¯.

```go
// Ø§ÛŒÙ† Ø±ÙˆØ´ Ø¨Ù‡ ØµÙˆØ±Øª Ø®ÙˆØ¯Ú©Ø§Ø± Ø¯Ø± bot.Run() ÙØ±Ø§Ø®ÙˆØ§Ù†ÛŒ Ù…ÛŒâ€ŒØ´ÙˆØ¯
// Ø§Ù…Ø§ Ù…ÛŒâ€ŒØªÙˆØ§Ù†ÛŒØ¯ ØªÙ†Ø¸ÛŒÙ…Ø§Øª Ø¢Ù† Ø±Ø§ ØªØºÛŒÛŒØ± Ø¯Ù‡ÛŒØ¯:
ctx := context.Background()
err := bot.StartPolling(ctx, ParsRubika.PollingOptions{
    Limit:        100,             // Ø­Ø¯Ø§Ú©Ø«Ø± ØªØ¹Ø¯Ø§Ø¯ Ø¢Ù¾Ø¯ÛŒØª Ø¯Ø± Ù‡Ø± Ø¯Ø±Ø®ÙˆØ§Ø³Øª
    PollInterval: 2 * time.Second, // ÙØ§ØµÙ„Ù‡ Ø¨ÛŒÙ† Ø¯Ø±Ø®ÙˆØ§Ø³Øªâ€ŒÙ‡Ø§
})
```

### ğŸŒ Webhook (Ø¨Ø±Ø§ÛŒ Ø¹Ù…Ù„Ú©Ø±Ø¯ Ø¨Ø§Ù„Ø§)

Ø¯Ø± Ø§ÛŒÙ† Ø±ÙˆØ´ØŒ Ø³Ø±ÙˆØ± Ø±ÙˆØ¨ÛŒÚ©Ø§ Ø¢Ù¾Ø¯ÛŒØªâ€ŒÙ‡Ø§ Ø±Ø§ Ø¨Ø±Ø§ÛŒ Ø´Ù…Ø§ Ø§Ø±Ø³Ø§Ù„ Ù…ÛŒâ€ŒÚ©Ù†Ø¯. Ø§ÛŒÙ† Ø±ÙˆØ´ Ø¨Ø±Ø§ÛŒ Ø±Ø¨Ø§Øªâ€ŒÙ‡Ø§ÛŒ Ù¾Ø±ØªØ±Ø§ÙÛŒÚ© Ø¨Ù‡ØªØ± Ø§Ø³Øª.

```go
webhookOpts := ParsRubika.WebhookOptions{
    Port:    8080,
    Path:    "/webhook",
    Secret:  "your_strong_secret", // Ø¨Ø±Ø§ÛŒ Ø§Ù…Ù†ÛŒØª
}

err := bot.StartWebhook(ctx, webhookOpts)
```

| ÙˆÛŒÚ˜Ú¯ÛŒ | ğŸ“¡ Polling | ğŸŒ Webhook |
|--------|------------|------------|
| **Ø³Ø§Ø¯Ú¯ÛŒ** | âœ… Ø¨Ø³ÛŒØ§Ø± Ø³Ø§Ø¯Ù‡ | âš ï¸ Ù†ÛŒØ§Ø² Ø¨Ù‡ Ø³Ø±ÙˆØ± Ø¹Ù…ÙˆÙ…ÛŒ |
| **Performance** | âš ï¸ Ù…ØªÙˆØ³Ø· | âœ… Ø¨Ø³ÛŒØ§Ø± Ø¨Ø§Ù„Ø§ |
| **Real-time** | âŒ ØªØ£Ø®ÛŒØ± Ø¯Ø§Ø±Ø¯ | âœ… ÙÙˆØ±ÛŒ |

---

## ğŸš€ Ù…Ø«Ø§Ù„ Ù¾ÛŒØ´Ø±ÙØªÙ‡: Ø±Ø¨Ø§Øª Ù†Ø¸Ø±Ø³Ù†Ø¬ÛŒ

```go
package main

import (
    // ... Ø§ÛŒÙ…Ù¾ÙˆØ±Øªâ€ŒÙ‡Ø§
)

func main() {
    // ... Ù…Ù‚Ø¯Ø§Ø±Ø¯Ù‡ÛŒ Ø§ÙˆÙ„ÛŒÙ‡ Ø±Ø¨Ø§Øª

    bot.OnMessageUpdates(func(ctx context.Context, update *ParsRubika.Update) error {
        msg := update.NewMessage
        if msg == nil {
            return nil
        }

        switch {
        case strings.HasPrefix(msg.Text, "/create_poll"):
            // Ù¾Ø§Ø±Ø³ Ú©Ø±Ø¯Ù† Ø¯Ø³ØªÙˆØ±: /create_poll Ø³ÙˆØ§Ù„ | Ú¯Ø²ÛŒÙ†Ù‡Û± | Ú¯Ø²ÛŒÙ†Ù‡Û²
            parts := strings.Split(strings.TrimPrefix(msg.Text, "/create_poll "), "|")
            if len(parts) < 3 {
                // Ø§Ø±Ø³Ø§Ù„ Ù¾ÛŒØ§Ù… Ø®Ø·Ø§
                return nil
            }
            question := strings.TrimSpace(parts[0])
            options := []string{strings.TrimSpace(parts[1]), strings.TrimSpace(parts[2])}
            
            // Ø§ÛŒØ¬Ø§Ø¯ Ù†Ø¸Ø±Ø³Ù†Ø¬ÛŒ
            _, err := bot.CreatePoll(ctx, update.ChatID, question, options)
            return err
            
        case strings.HasPrefix(msg.Text, "/poll_stats"):
            // Ø¯Ø±ÛŒØ§ÙØª Ùˆ Ù†Ù…Ø§ÛŒØ´ Ø¢Ù…Ø§Ø± Ù†Ø¸Ø±Ø³Ù†Ø¬ÛŒ
            // Ø§ÛŒÙ† Ø¨Ø®Ø´ Ù†ÛŒØ§Ø² Ø¨Ù‡ Ø°Ø®ÛŒØ±Ù‡ Ø§Ø·Ù„Ø§Ø¹Ø§Øª Ù†Ø¸Ø±Ø³Ù†Ø¬ÛŒ Ø¯Ø§Ø±Ø¯
            // ...
        }
        return nil
    })

    // ... Ø§Ø¬Ø±Ø§ÛŒ Ø±Ø¨Ø§Øª
}
```

---

## â˜ï¸ Ø§Ø³ØªÙ‚Ø±Ø§Ø± Ùˆ Ø¯ÛŒÙ¾Ù„ÙˆÛŒ

### ğŸ³ Ø§Ø³ØªÙØ§Ø¯Ù‡ Ø§Ø² Ø¯Ø§Ú©Ø± (Docker)

Ø¨Ø±Ø§ÛŒ Ø§Ø³ØªÙ‚Ø±Ø§Ø± Ø¢Ø³Ø§Ù†ØŒ Ù…ÛŒâ€ŒØªÙˆØ§Ù†ÛŒØ¯ Ø§Ø² Ø¯Ø§Ú©Ø± Ø§Ø³ØªÙØ§Ø¯Ù‡ Ú©Ù†ÛŒØ¯.

**Dockerfile:**
```dockerfile
FROM golang:1.21-alpine AS builder

WORKDIR /app
COPY go.mod go.sum ./
RUN go mod download
COPY . .
RUN go build -o rubika-bot .

FROM alpine:latest
RUN apk --no-cache add ca-certificates tzdata
WORKDIR /root/
COPY --from=builder /app/rubika-bot .
COPY --from=builder /app/config.yaml .
EXPOSE 8080
CMD ["./rubika-bot"]
```

**docker-compose.yml:**
```yaml
version: '3.8'
services:
  rubika-bot:
    build: .
    ports:
      - "8080:8080"
    environment:
      - RUBIKA_BOT_TOKEN=${RUBIKA_BOT_TOKEN}
    restart: unless-stopped
```

**Ø§Ø¬Ø±Ø§ÛŒ Ù¾Ø±ÙˆÚ˜Ù‡:**
```bash
docker-compose up --build
```

---

## ğŸ”§ Ø¹ÛŒØ¨â€ŒÛŒØ§Ø¨ÛŒ

### ğŸš¨ Ø®Ø·Ø§Ù‡Ø§ÛŒ Ø±Ø§ÛŒØ¬

| Ø®Ø·Ø§ | Ø¯Ù„ÛŒÙ„ Ø§Ø­ØªÙ…Ø§Ù„ÛŒ | Ø±Ø§Ù‡â€ŒØ­Ù„ |
|------|-------------|--------|
| `401 Unauthorized` | ØªÙˆÚ©Ù† Ù†Ø§Ù…Ø¹ØªØ¨Ø± ÛŒØ§ Ø§Ø´ØªØ¨Ø§Ù‡ | ØªÙˆÚ©Ù† Ø±Ø§ Ø§Ø² `@BotFather` Ù…Ø¬Ø¯Ø¯Ø§Ù‹ Ø¯Ø±ÛŒØ§ÙØª Ùˆ Ø¨Ø±Ø±Ø³ÛŒ Ú©Ù†ÛŒØ¯. |
| `connection refused` | Ù…Ø´Ú©Ù„ Ø¯Ø± Ø§ØªØµØ§Ù„ Ø¨Ù‡ Ø§ÛŒÙ†ØªØ±Ù†Øª ÛŒØ§ ÙØ§ÛŒØ±ÙˆØ§Ù„ | Ø§ØªØµØ§Ù„ Ø¨Ù‡ Ø§ÛŒÙ†ØªØ±Ù†Øª Ùˆ ØªÙ†Ø¸ÛŒÙ…Ø§Øª ÙØ§ÛŒØ±ÙˆØ§Ù„ Ø±Ø§ Ø¨Ø±Ø±Ø³ÛŒ Ú©Ù†ÛŒØ¯. |
| `too many requests` | Ø§Ø±Ø³Ø§Ù„ Ø¯Ø±Ø®ÙˆØ§Ø³Øªâ€ŒÙ‡Ø§ÛŒ Ø¨ÛŒØ´ Ø§Ø² Ø­Ø¯ Ù…Ø¬Ø§Ø² (Rate Limit) | Ø§Ø² `WithRateLimitDelay` Ø¨Ø±Ø§ÛŒ Ø§ÙØ²Ø§ÛŒØ´ ÙØ§ØµÙ„Ù‡ Ø¨ÛŒÙ† Ø¯Ø±Ø®ÙˆØ§Ø³Øªâ€ŒÙ‡Ø§ Ø§Ø³ØªÙØ§Ø¯Ù‡ Ú©Ù†ÛŒØ¯. |

### ğŸ“Š Ù„Ø§Ú¯ÛŒÙ†Ú¯ Ù¾ÛŒØ´Ø±ÙØªÙ‡

Ø¨Ø±Ø§ÛŒ Ø¯ÛŒØ¨Ø§Ú¯ Ø¨Ù‡ØªØ±ØŒ Ù…ÛŒâ€ŒØªÙˆØ§Ù†ÛŒØ¯ ÛŒÚ© Ù…ÛŒØ¯Ù„ÙˆØ± Ù„Ø§Ú¯ÛŒÙ†Ú¯ Ø§Ø¶Ø§ÙÙ‡ Ú©Ù†ÛŒØ¯:

```go
bot.Middleware(func(ctx context.Context, update *ParsRubika.Update, next ParsRubika.HandlerFunc) error {
    start := time.Now()
    log.Printf("ğŸ“¥ Ø¢Ù¾Ø¯ÛŒØª Ø¯Ø±ÛŒØ§ÙØª Ø´Ø¯: %s Ø§Ø² Ú†Øª %s", update.Type, update.ChatID)
    
    err := next(ctx, update)
    
    log.Printf("âœ… Ù¾Ø±Ø¯Ø§Ø²Ø´ Ø¢Ù¾Ø¯ÛŒØª Ø¯Ø± %v Ø¨Ø§ Ø®Ø·Ø§: %v", time.Since(start), err)
    return err
})
```

---

## ğŸ“ Ù¾Ø´ØªÛŒØ¨Ø§Ù†ÛŒ

- **ğŸ‘¤ Ø§ÛŒØ¯ÛŒ Ø±ÙˆØ¨ÛŒÚ©Ø§:** `NinjaCode`
- **ğŸ“¢ Ú†Ù†Ù„ Ø±ÙˆØ¨ÛŒÚ©Ø§:** `Ninja_code`
- **ğŸ“§ Ø§ÛŒÙ…ÛŒÙ„:** `ninjacode.ir@gmail.com`
- **ğŸ™ Ú¯ÛŒØªâ€ŒÙ‡Ø§Ø¨:** [Abolfazl-Zarei](https://github.com/Abolfazl-Zarei)

Ø¨Ø±Ø§ÛŒ Ú¯Ø²Ø§Ø±Ø´ Ø¨Ø§Ú¯ ÛŒØ§ Ø¯Ø±Ø®ÙˆØ§Ø³Øª ÙˆÛŒÚ˜Ú¯ÛŒ Ø¬Ø¯ÛŒØ¯ØŒ Ù„Ø·ÙØ§Ù‹ ÛŒÚ© [Issue](https://github.com/Abolfazl-Zarei/ParsRubika-bot-go/issues) Ø¯Ø± Ú¯ÛŒØªâ€ŒÙ‡Ø§Ø¨ Ø§ÛŒØ¬Ø§Ø¯ Ú©Ù†ÛŒØ¯.

---

## ğŸ‰ Ù†ØªÛŒØ¬Ù‡â€ŒÚ¯ÛŒØ±ÛŒ

**ParsRubika** Ø¨Ø§ Ø§Ø±Ø§Ø¦Ù‡ ÛŒÚ© API ØªÙ…ÛŒØ²ØŒ Ù…Ø³ØªÙ†Ø¯Ø§Øª Ú©Ø§Ù…Ù„ Ùˆ Ù‚Ø§Ø¨Ù„ÛŒØªâ€ŒÙ‡Ø§ÛŒ Ù¾ÛŒØ´Ø±ÙØªÙ‡ Ù…Ø§Ù†Ù†Ø¯ Ù…Ø¯ÛŒØ±ÛŒØª ÙˆØ¶Ø¹ÛŒØªØŒ Ø³ÙˆÛŒÛŒÚ† Ù‡ÙˆØ´Ù…Ù†Ø¯ API Ùˆ Hot-ReloadØŒ ÙØ±Ø¢ÛŒÙ†Ø¯ Ø³Ø§Ø®Øª Ø±Ø¨Ø§Øªâ€ŒÙ‡Ø§ÛŒ Ù‚Ø¯Ø±ØªÙ…Ù†Ø¯ Ùˆ Ù¾Ø§ÛŒØ¯Ø§Ø± Ø¨Ø±Ø§ÛŒ Ø±ÙˆØ¨ÛŒÚ©Ø§ Ø±Ø§ Ø¨Ù‡ Ø´Ø¯Øª Ø³Ø§Ø¯Ù‡ Ù…ÛŒâ€ŒÚ©Ù†Ø¯. Ø¨Ø§ Ø§Ø³ØªÙØ§Ø¯Ù‡ Ø§Ø² Ø§ÛŒÙ† Ú©ØªØ§Ø¨Ø®Ø§Ù†Ù‡ØŒ Ù…ÛŒâ€ŒØªÙˆØ§Ù†ÛŒØ¯ Ø¨Ø± Ø±ÙˆÛŒ Ù…Ù†Ø·Ù‚ Ø§ØµÙ„ÛŒ Ø±Ø¨Ø§Øª Ø®ÙˆØ¯ ØªÙ…Ø±Ú©Ø² Ú©Ù†ÛŒØ¯ Ùˆ Ø§Ø² Ù†Ú¯Ø±Ø§Ù†ÛŒ Ø¯Ø± Ù…ÙˆØ±Ø¯ Ø¬Ø²Ø¦ÛŒØ§Øª ÙÙ†ÛŒ Ù¾ÛŒØ§Ø¯Ù‡â€ŒØ³Ø§Ø²ÛŒ Ø±Ù‡Ø§ Ø´ÙˆÛŒØ¯.

### ğŸš€ Ø´Ø±ÙˆØ¹ Ù†Ù‡Ø§ÛŒÛŒ

```go
package main

// ... Ø§ÛŒÙ…Ù¾ÙˆØ±Øªâ€ŒÙ‡Ø§

func main() {
    bot := ParsRubika.NewClient(os.Getenv("RUBIKA_BOT_TOKEN"),
        ParsRubika.WithConnectionMode(ParsRubika.SwitcherMode),
        ParsRubika.WithHotReload(true),
    )
    
    bot.OnMessageUpdates(yourHandler)
    
    ctx := context.Background()
    log.Println("ğŸ‰ Ø±Ø¨Ø§Øª Ø´Ø±ÙˆØ¹ Ø¨Ù‡ Ú©Ø§Ø± Ú©Ø±Ø¯!")
    bot.Run(ctx)
}
```
